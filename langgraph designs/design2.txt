          ┌────────────┐
          │   Start    │  ← 接收首次输入（图像 + 问题）
          └──────┬─────┘
                 ↓
       ┌──────────────────┐
       │  Image Analysis  │  ← 图像描述（BLIP-2 / CLIP / GPT-4o）
       └──────┬───────────┘
              ↓
       ┌──────────────────┐
       │ Question Analysis│  ← 用户提问意图抽取
       └──────┬───────────┘
              ↓
       ┌──────────────────┐
       │  Context Fusion  │  ← 合并描述 + 提问
       └──────┬───────────┘
              ↓
       ┌───────────────────────────────┐
       │   Info Completeness Check     │  ← LLM 判断是否缺少关键字段
       └──────┬─────────────┬──────────┘
              │             │
    ┌─────────▼───┐     ┌───▼────────┐
    │ Missing?     │No   │ Missing?   │Yes
    │ all info    ─┼────►│ Ask Follow-up ├─┐
    └─────────────┘     └───┬────────┘     │
                            │              │
                     ┌──────▼──────┐       │
                     │  Await User │───────┘
                     │  Response   │
                     └──────┬──────┘
                            ↓
                       ┌────────┐
                       │ Update │  ← 把新文本或新图像存入 state
                       └───┬────┘
                           ↓
                        ──┴─── 回到 “Info Completeness Check”
           ┌──────────────────────┐
           │     RAG 检索节点      │
           └──────────┬───────────┘
                      ↓
           ┌──────────────────────┐
           │  推理与回答生成节点     │
           └──────────┬───────────┘
                      ↓
                ┌──────────┐
                │   End    │
                └──────────┘